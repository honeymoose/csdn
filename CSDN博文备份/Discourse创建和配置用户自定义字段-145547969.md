<p>用户自定义字段能够让你在用户注册的是要求用户提供更多的信息。这些用户提供的信息可以在用户名片，用户摘要页面下显示，甚至还可以通过 Data Explorer plugin 插件进行查询。</p> <br><p>本文能够帮助你对这些字段进行配置和设置。</p> <br><h3>添加一个用户字段</h3> <br><ol><li>进入 Admin > Community > User Fields (<code>discourse.example.com/admin/config/user-fields</code>).</li><li>如果你还没有创建过用户字段的话，显示下面的界面： <p></p> <p class="img-center"><a href="https://cdn.isharkfly.com/com-isharkfly-www/discourse-uploads/original/3X/2/9/29e918af354d8963744391ec19dbcfe78dd94970.png" rel="nofollow"><img alt="image" height="375" src="https://i-blog.csdnimg.cn/img_convert/ec689c9a77838af3077ee3f9f99b8d45.png" width="448" /></a></p> <p></p> </li><li>单击 “Add user field” 按钮来创建一个新的字段。 <p></p> <p class="img-center"><a href="https://cdn.isharkfly.com/com-isharkfly-www/discourse-uploads/original/3X/6/9/698d3e94aa4797b0245d86c4d401e112da4156bb.png" rel="nofollow"><img alt="17e4c9a866d0a6b58a968d4f49aba92c9c55e561_2_527x500" height="500" src="https://i-blog.csdnimg.cn/img_convert/93b8d1a45bade02100772d08aaf48b76.png" width="527" /></a></p> <p></p> </li></ol> <br><h3>选择一个字段类型</h3> <br><p>选择的字段类型将会决定用户在注册的时候可以输入的内容。</p> <br><p>选择的字段类型基于你想获得用户的什么信息，通常用下面的一些选择：</p> <br><h4>Text（文本字段）</h4> <br><ul><li>这个字段用户可以输入自己想输的内容，通常针对的是有多种回答的问题 (例如： “What company do you work for?”)</li><li>在文本输入的时候显示 HTML <p></p> <p class="img-center"><a href="https://cdn.isharkfly.com/com-isharkfly-www/discourse-uploads/original/3X/9/3/9362bba63ab217ddcb8a9bd6cba8e682a3195f2e.png" rel="nofollow"><img alt="" height="239" src="https://i-blog.csdnimg.cn/img_convert/e03c3a365c0522954b7f19ef4b33bea0.png" width="345" /></a></p> </li></ul> <br><h4>确认</h4> <br><ul><li>主要针对我们常用的 yes/no 问题，(例如, “Would you like to sign up for our newsletter?”)</li><li>显示为 HTML checkbox（选择项） <p></p> <p class="img-center"><a href="https://cdn.isharkfly.com/com-isharkfly-www/discourse-uploads/original/3X/c/c/cc126289fe33a9f1e512d1ffcf71447bbd7cd46a.png" rel="nofollow"><img alt="" height="235" src="https://i-blog.csdnimg.cn/img_convert/9a95b66acbddc491a5af418cf571bb1e.png" width="345" /></a></p> </li></ul> <br><h4>下拉选择</h4> <br><ul><li>如果你希望提供多个可以供用户选择的话 (例如, “What is your gender?”)</li><li>显示为 HTML select input（选择输入） <p></p> <p class="img-center"><a href="https://cdn.isharkfly.com/com-isharkfly-www/discourse-uploads/original/3X/d/2/d2a23a946ec2091f2390ceb696b5e937d7789789.png" rel="nofollow"><img alt="" height="250" src="https://i-blog.csdnimg.cn/img_convert/f98e5cc83857294fafc46f20590eb4b8.png" width="275" /></a></p> </li></ul> <br><p>针对下拉选择字段添加可选的下拉选择项目：</p> <br><ol><li>单击可选输入</li><li>输入一个回答后单击 “Create”</li><li>重复上面的过程 <p></p> <p class="img-center"><a href="https://cdn.isharkfly.com/com-isharkfly-www/discourse-uploads/original/3X/6/0/607cfa62180bf1b45893652fd77f48b67f8a6493.png" rel="nofollow"><img alt="" height="249" src="https://i-blog.csdnimg.cn/img_convert/094842b71da6d33ca06cf808f3a87536.png" width="222" /></a></p> </li></ol> <br><p>完成后的下拉选择项，看起应该和下面的图片内容相似：</p> <br><p></p> <br><p></p> <br><p class="img-center"><a href="https://cdn.isharkfly.com/com-isharkfly-www/discourse-uploads/original/3X/0/7/07384da5ada9baf94aa8ba6ed9223d776d379820.png" rel="nofollow"><img alt="" height="250" src="https://i-blog.csdnimg.cn/img_convert/3c5cef9ac1d690af408ffc2fc972d88d.png" width="195" /></a></p> <br><p></p> <br><h3>设置字段名和描述</h3> <br><ul><li><strong>Field Name（字段名）</strong>:在用户注册表单和用户属性之前进行显示</li><li><strong>Field Description（字段描述）</strong>: 显示在用户可以输入的内容之后，用于帮助用户理解这个字段的内容和意义。</li></ul> <br><blockquote> <br> <p></p> <br> <p class="img-center"><img alt=":information_source:" height="72" src="https://i-blog.csdnimg.cn/img_convert/cf8c3300026f1f387045f7bcd6046f3e.png" width="72" /></p> <br> <p>字段名和字段描述在添加字段的时候是必须的，这 2 个字段不能留空。</p> <br></blockquote> <br><p>当完成上面的设置后，下面的界面显示了用户在注册的时候看到的情况：</p> <br><p></p> <br><p></p> <br><p class="img-center"><a href="https://cdn.isharkfly.com/com-isharkfly-www/discourse-uploads/original/3X/e/9/e9e30806265482726c78d56c49ee631a8c743791.png" rel="nofollow"><img alt="" height="374" src="https://i-blog.csdnimg.cn/img_convert/d358ee23b2c0d1f17824b2554160cac8.png" width="203" /></a></p> <br><p></p> <br><h3>配置用户字段选项</h3> <br><h4>字段必须</h4> <br><ul><li><strong>Optional（可选）</strong> - 用户针对这个可选的字段可以不输入内容</li><li><strong>For all users（针对所有用户）</strong> - 当这个字段是针对所有用户都要求的话，所有的用户都要求在登录的时候进行选择。针对这个选项比如说 terms-of-service (ToS) 就可以进行选择</li><li><strong>On signup（在注册的时候）</strong> - 所有新注册的用户都需要对这个字段进行处理</li></ul> <br><p>在当前的用户创建界面的地步，用户还有下面的一些选项可以进行选择：</p> <br><ul><li><strong>Editable after signup（注册后可以编辑）</strong>: 当字段内容被创建后，用户还是可以进行编辑</li><li><strong>Required at signup（注册时必填）</strong>: 当用户在创建自己账号的时候，这个字段的内容必填</li><li><strong>Show on public profile（在用户公开属性中显示）</strong>: 字段中输入的内容将会在用户摘要页面可见</li><li><strong>Show on user card（在用户名片中显示）</strong>: 在用户选项卡中显示字段值</li><li><strong>Searchable（可以搜索）</strong>: 用户在字段中输入的值可以在用户目录中进行搜索</li></ul> <br><h4>在公开属性中显示</h4> <br><p>当这个选项被启用，用户字段的值将会显示在用户的属性页面中：</p> <br><p></p> <br><p></p> <br><p class="img-center"><a href="https://cdn.isharkfly.com/com-isharkfly-www/discourse-uploads/original/3X/6/f/6ffa0824a9f87dae985f8fec729e90624460355a.png" rel="nofollow"><img alt="" height="143" src="https://i-blog.csdnimg.cn/img_convert/12eb32b24ceda746b19a65ecb396d897.png" width="282" /></a></p> <br><p></p> <br><h4>在用户名片中显示</h4> <br><p>当这个选项被启用，用户字段中的值将会显示在用户名片中显示：</p> <br><p></p> <br><p></p> <br><p class="img-center"><a href="https://cdn.isharkfly.com/com-isharkfly-www/discourse-uploads/original/3X/6/e/6ebffcf1a03224892f9218fdf29e3895a3f18407.png" rel="nofollow"><img alt="" height="260" src="https://i-blog.csdnimg.cn/img_convert/f46fd0f1a9004db4a97f8401429b4916.png" width="616" /></a></p> <br><p></p> <br><h4>可被查询</h4> <br><p>当这个选项被启用，你可以基于这个字段中的值来搜索用户：</p> <br><p></p> <br><p class="img-center"><img alt="" height="93" src="https://i-blog.csdnimg.cn/img_convert/73c40885f88951b5cc094fd58af768e4.png" width="517" /></p> <br><h3>保存和编辑字段</h3> <br><ol><li>单击"Save（保存）" 来将用户字段添加到你的用户站点中。</li><li>如想对添加后的字段进行编辑，单击 “Edit（编辑）” 列表中的编辑按钮。</li><li>如需删除字段，单击 “Delete（删除）” 按钮。</li></ol> <br><p></p> <br><p></p> <br><p class="img-center"><a href="https://cdn.isharkfly.com/com-isharkfly-www/discourse-uploads/original/3X/9/c/9c144bd68c6196d695f8de02f354fff15bc5fa1f.png" rel="nofollow"><img alt="" height="106" src="https://i-blog.csdnimg.cn/img_convert/8a5137f2d040656b534ae78b710ac802.png" width="517" /></a></p> <br><p></p> <br><h3>添加自定义字段到用户目录</h3> <br><ol><li>进入用户目录</li><li>单击扳手按钮： <p class="img-center"><img alt="" height="59" src="https://i-blog.csdnimg.cn/img_convert/07a1bee548fce069779ce501f6064a0c.png" width="517" /></p> </li><li>选择你希望显示的用户字段</li><li>单击"Save（保存）"</li></ol> <br><p></p> <br><p></p> <br><p class="img-center"><a href="https://cdn.isharkfly.com/com-isharkfly-www/discourse-uploads/original/3X/8/2/82a44b9b181335d04d0a662b873eea55f6bda284.png" rel="nofollow"><img alt="" height="375" src="https://i-blog.csdnimg.cn/img_convert/214cfc81e8eb57a9f0ae5215bbe0d8f1.png" width="249" /></a></p> <br><p></p> <br><p>选择的自定义字段将会显示在用户目录表中：</p> <br><p></p> <br><p></p> <br><p class="img-center"><a href="https://cdn.isharkfly.com/com-isharkfly-www/discourse-uploads/original/3X/c/5/c53784d040951a75d7a6af6c30f00e209ed7a49a.png" rel="nofollow"><img alt="" height="222" src="https://i-blog.csdnimg.cn/img_convert/700c03dc6764809fea801e4b261cda87.png" width="517" /></a></p> <br><p></p> <br><p><a class="has-card" href="https://www.isharkfly.com/t/discourse/16901" rel="nofollow" title="Discourse 创建和配置用户自定义字段 - Discourse - iSharkFly"><span class="link-card-box" contenteditable="false"><span class="link-title">Discourse 创建和配置用户自定义字段 - Discourse - iSharkFly</span><span class="link-desc">:bookmark: 本文提供了如何在 Discourse 中创建和使用用户自定义字段的指南。包括有如何让这些字段在用户注册的时候进行提供，如何在用户属性和用户目录中提供。 本文翻译在：Creating and configuring custom user fields - Site Management - Discourse Meta :person_raising_hand: 需要的用户级别： Administrator（…</span><span class="link-link"><img class="link-link-icon" src="https://csdnimg.cn/release/blog_editor_html/release2.3.7/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=O83A" />https://www.isharkfly.com/t/discourse/16901</span></span></a></p> <br><p></p>