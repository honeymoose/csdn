<p>当对 Discourse 更新数据库后，新得 PostgreSQL 数据库没有 statistics 表。</p> <br><p>你可以使用下面的命令来生成 statistics 表。</p> <br><p></p> <br><pre><code>cd /var/discourse<br>./launcher enter app<br>su postgres<br>psql<br>\connect discourse<br>VACUUM VERBOSE ANALYZE;<br>\q<br>exit<br>exit<br></code></pre> <br><p>当然，你可以可以在 SSH 到服务器上直接运行下面的命令：</p> <br><p></p> <br><pre><code>/var/discourse/launcher run app "echo 'vacuum verbose analyze;' | su postgres -c 'psql discourse'"<br></code></pre> <br><p>建议使用单一命令行进行执行。</p> <br><p></p> <br><p><a href="https://www.isharkfly.com/t/discourse-postgresql/16903" rel="nofollow" title="Discourse 优化 PostgreSQL 状态表 - Discourse - iSharkFly">Discourse 优化 PostgreSQL 状态表 - Discourse - iSharkFly</a></p>